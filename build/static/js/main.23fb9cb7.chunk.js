(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{54:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAnFBMVEVMaXHxxjDtwzO4n0jxxjBlZmbxxjDxxjBlZmbxxjCaiVpubGVlZmbxxjBnZ2XxxjDxxjDxxjBua2Wei1llZma+okyOgF1lZmbfuT1lZmZlZmbxxjCkj1d8dGNlZmabilnDpUrMrEXxxjDxxjB0b2RlZmbxxjCBeGF6c2NtamXPr0SzmlGhjVitllOZiFuLfl6+ok2Qgl19dWLGqEjC0ufgAAAAJXRSTlMAMPcQ0MDAQECA3+NScPWQoCDQroCcu6vEcCiwZKCQgtpM4GC4eJwCjgAAAc9JREFUeF7t2dmO2kAQheGyPWAMtoGwzb4kqWqvMMv7v1sQiazQw0STC+CMdL4bqyVf/FK31GqVnA4RERERERERpb0PXcn5rPRjqZxNNPA92l8mAiK2PbGcXHT7bd/PpzjObE8Wx08977fb6KhVF4V61nbAWj3FxTG7ElOfswOc+iz5glnMYlYQlup5sQM26inDQI4omOm+fJHkqq11StVlssh13yyQUxupzpLOdvUgACb2zg+MC9HXB85iFrOYxaxpaO+M5fyC4XD42O9sVwtBoKrLpKOqc0GQ3jWVdZ6bu4jvxH8YY2aFkFmxQWaNMbO+Q2YFBpmVYWbdYGb1MbOCmws/i5cPsz6JWcxiFrOYxayqaSrALKfq4LKqZuPcpqnAskrdKcGyCt0pwLLWbmcNlqV/gGW1LzvtFz7yPPJtsdPyyH9m0lm716J4dbXZRGBMf0+DR9vPVFCkUWxmtXM10hZKfh9bByerl0NmrfQBMWuuS8SsVB1i1qB4RsyahlUFmBWHZRniZQVW194mwk19AgHS94b6KLLLt63LTMAMdGsgzGIWs5jFLGYxi1n/Y6Sqgmeu2hM816pXAmil1wIoHQmkezk7IiIiIiIiIvoFEbTmNagc1A4AAAAASUVORK5CYII="},55:function(e,t){e.exports="data:image/png;base64,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"},56:function(e,t){e.exports="data:image/png;base64,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"},57:function(e,t,a){e.exports=a.p+"static/media/default-image-background.59351ca5.jpeg"},58:function(e,t,a){e.exports=a.p+"static/media/spinner.ab497855.gif"},61:function(e,t,a){e.exports=a(78)},66:function(e,t,a){},70:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n,r,c,l,o,i,s=a(0),m=a.n(s),u=a(45),d=a.n(u),p=(a(66),a(6)),g=a(7),E=a(13),b=a(59),f=a(22),A=a.n(f),h=a(27),j=a(26),v=a(5),x=a(46),O=a(14),C=a(23),y=a(17),w=Object(y.a)(n||(n=Object(C.a)(["\n  query getTools($category: ID) {\n    tools(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),L=Object(y.a)(r||(r=Object(C.a)(["\n  query getCheckout($tools: [ID]!) {\n    checkout(tools: $tools) {\n      session\n    }\n  }\n"]))),k=Object(y.a)(c||(c=Object(C.a)(["\n  {\n    tools {\n      _id\n      name\n      image\n      description\n      price\n      quantity\n      category {\n        name\n        _id\n      }\n    }\n  }\n"]))),T=(Object(y.a)(l||(l=Object(C.a)(["\nquery ToolsByCategory($category: ID) {\n  toolsByCategory(category: $category) {\n    _id\n    name\n    description\n    image\n    quantity\n    price\n    category {\n      _id\n    }\n  }\n}\n"]))),Object(y.a)(o||(o=Object(C.a)(["\n{\n  categories {\n    _id\n    name\n  }\n}\n"]))),Object(y.a)(i||(i=Object(C.a)(["\n{\n  user {\n    firstName\n    lastName\n    orders {\n      _id\n      purchaseDate\n      tools {\n        _id\n        name\n        description\n        price\n        quantity\n        image\n      }\n    }\n  }\n}\n"]))));function Z(e,t,a){return new Promise((function(n,r){var c,l,o,i=window.indexedDB.open("shop-shop",1);i.onupgradeneeded=function(e){var t=i.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},i.onerror=function(e){console.log("There was an error")},i.onsuccess=function(r){switch(c=i.result,l=c.transaction(e,"readwrite"),o=l.objectStore(e),c.onerror=function(e){console.log("error",e)},t){case"put":o.put(a),n(a);break;case"get":var s=o.getAll();s.onsuccess=function(){n(s.result)};break;case"delete":o.delete(a._id);break;default:console.log("No valid method")}l.oncomplete=function(){c.close()}}}))}var N=a(4),M=a(21),I=function(e,t){switch(t.type){case"UPDATE_PRODUCTS":return Object(N.a)(Object(N.a)({},e),{},{products:Object(h.a)(t.products)});case"ADD_TO_CART":return Object(N.a)(Object(N.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(h.a)(e.cart),[t.product])});case"ADD_MULTIPLE_TO_CART":return Object(N.a)(Object(N.a)({},e),{},{cart:[].concat(Object(h.a)(e.cart),Object(h.a)(t.products))});case"UPDATE_CART_QUANTITY":return Object(N.a)(Object(N.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case"REMOVE_FROM_CART":var a=e.cart.filter((function(e){return e._id!==t._id}));return Object(N.a)(Object(N.a)({},e),{},{cartOpen:a.length>0,cart:a});case"CLEAR_CART":return Object(N.a)(Object(N.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(N.a)(Object(N.a)({},e),{},{cartOpen:!e.cartOpen});case"UPDATE_CATEGORIES":return Object(N.a)(Object(N.a)({},e),{},{categories:Object(h.a)(t.categories)});case"UPDATE_CURRENT_CATEGORY":return Object(N.a)(Object(N.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var D,R,F,S=["value"],U=Object(s.createContext)(),Q=U.Provider,P=function(e){e.value;var t,a=Object(M.a)(e,S),n=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(s.useReducer)(I,t)),r=Object(v.a)(n,2),c=r[0],l=r[1];return m.a.createElement(Q,Object.assign({value:[c,l]},a))},W=function(){return Object(s.useContext)(U)},B=function(e){var t=e.item,a=W(),n=Object(v.a)(a,2)[1];return m.a.createElement("div",{className:"flex-row"},m.a.createElement("div",null,m.a.createElement("img",{src:"/images/".concat(t.image),alt:""})),m.a.createElement("div",null,m.a.createElement("div",null,t.name,", $",t.price),m.a.createElement("div",null,m.a.createElement("span",null,"Qty:"),m.a.createElement("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var a=e.target.value;"0"===a?(n({type:"REMOVE_FROM_CART",_id:t._id}),Z("cart","delete",Object(N.a)({},t))):(n({type:"UPDATE_CART_QUANTITY",_id:t._id,purchaseQuantity:parseInt(a)}),Z("cart","put",Object(N.a)(Object(N.a)({},t),{},{purchaseQuantity:parseInt(a)})))}}),m.a.createElement("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){n({type:"REMOVE_FROM_CART",_id:e._id}),Z("cart","delete",Object(N.a)({},e))}(t)}},"\ud83d\uddd1\ufe0f"))))},q=a(36),V=a(47),G=a(39),K=a.n(G),Y=new(function(){function e(){Object(q.a)(this,e)}return Object(V.a)(e,[{key:"getProfile",value:function(){return K()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return K()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),z=(a(70),Object(x.a)("pk_test_TYooMQauvdEDq54NiTphI7jx")),_=function(){var e=W(),t=Object(v.a)(e,2),a=t[0],n=t[1],r=Object(O.a)(L),c=Object(v.a)(r,2),l=c[0],o=c[1].data;function i(){n({type:"TOGGLE_CART"})}return Object(s.useEffect)((function(){o&&z.then((function(e){e.redirectToCheckout({sessionId:o.checkout.session})}))}),[o]),Object(s.useEffect)((function(){function e(){return(e=Object(j.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("cart","get");case 2:t=e.sent,n({type:"ADD_MULTIPLE_TO_CART",products:Object(h.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.cart.length||function(){e.apply(this,arguments)}()}),[a.cart.length,n]),a.cartOpen?m.a.createElement("div",{className:"cart"},m.a.createElement("div",{className:"close",onClick:i},"[close]"),m.a.createElement("h2",null,"Shopping Cart"),a.cart.length?m.a.createElement("div",null,a.cart.map((function(e){return m.a.createElement(B,{key:e._id,item:e})})),m.a.createElement("div",{className:"flex-row space-between"},m.a.createElement("strong",null,"Total: $",function(){var e=0;return a.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()),Y.loggedIn()?m.a.createElement("button",{onClick:function(){var e=[];a.cart.forEach((function(t){for(var a=0;a<t.purchaseQuantity;a++)e.push(t._id)})),l({variables:{products:e}})}},"Checkout"):m.a.createElement("span",null,"(log in to check out)"))):m.a.createElement("h3",null,m.a.createElement("span",{role:"img","aria-label":"shocked"},"\ud83d\ude31"),"You haven't added anything to your cart yet!")):m.a.createElement("div",{className:"cart-closed",onClick:i},m.a.createElement("span",{role:"img","aria-label":"trash"},"\ud83d\uded2"))},J=a(80),X=a(81),H=a(29),$=Object(y.a)(D||(D=Object(C.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),ee=Object(y.a)(R||(R=Object(C.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      } \n      }\n    }\n  }\n"]))),te=Object(y.a)(F||(F=Object(C.a)(["\n  mutation addUser($firstName: String!, $lastName: String!, $email: String!, $password: String!) {\n    addUser(firstName: $firstName, lastName: $lastName, email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"])));var ae=function(e){var t=Object(s.useState)({email:"",password:""}),a=Object(v.a)(t,2),n=a[0],r=a[1],c=Object(O.b)($),l=Object(v.a)(c,2),o=l[0],i=l[1].error,u=function(){var e=Object(j.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:{email:n.email,password:n.password}});case 4:a=e.sent,r=a.data.login.token,Y.login(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.target,a=t.name,c=t.value;r(Object(N.a)(Object(N.a)({},n),{},Object(H.a)({},a,c)))};return m.a.createElement("div",{class:"login-card"},m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement("div",{className:"container my-1"},m.a.createElement(p.b,{to:"/signup"},"\u2190 Go to Signup"),m.a.createElement("h2",null,"Login"),m.a.createElement("form",{onSubmit:u},m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"email"},"Email address:"),m.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:d})),m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"pwd"},"Password:"),m.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:d})),i?m.a.createElement("div",null,m.a.createElement("p",{className:"error-text"},"The provided credentials are incorrect")):null,m.a.createElement("div",{className:"flex-row flex-end"},m.a.createElement("button",{type:"submit"},"Submit"))))))},ne=a(54),re=a.n(ne),ce=a(55),le=a.n(ce),oe=a(56),ie=a.n(oe),se=function(){var e=function(){console.log("displayCategory fired!")};return m.a.createElement("div",null,m.a.createElement("div",{class:"home-text"},m.a.createElement("h1",{class:"card-header"},"RENTAL EQUIPMENT"),m.a.createElement("div",{class:"hero-pad"},m.a.createElement("h3",{class:"hero-text card-body"},"Select a category below to view rental equipment information, availability, and locations to reserve items for your jobsite. Instructions for pickup will follow.")),m.a.createElement("div",{class:"row"},m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement(J.a.Img,{variant:"top",src:"../../images/Lawn&Garden.png"}),m.a.createElement(J.a.Body,null,m.a.createElement(J.a.Title,{class:"category-names"},"LAWN & GARDEN"),m.a.createElement(J.a.Text,null,"Tools for maintenance of lawns, hedges, or brush. For Home or Commercial projects. Chainsaws, Mowers, Post Diggers and more."),m.a.createElement(p.b,{to:"/single-category/61a57a32ec2d3775db3263dc"},m.a.createElement(X.a,{variant:"primary",onClick:e},"Check Availability")))),m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement(J.a.Img,{variant:"top",src:re.a}),m.a.createElement(J.a.Body,null,m.a.createElement(J.a.Title,{class:"category-names"},"AIR COMPRESSORS & TOOLS"),m.a.createElement(J.a.Text,null,"Top of the line Air Compressors, Sand Blasters, Air Powered Rivet Busters, and Air Hammers for DIY or commercial."),m.a.createElement(p.b,{to:"/single-category/61a57a32ec2d3775db3263dd"},m.a.createElement(X.a,{variant:"primary",onClick:e},"Check Availability")))),m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement(J.a.Img,{variant:"top",src:le.a}),m.a.createElement(J.a.Body,null,m.a.createElement(J.a.Title,{class:"category-names"},"CONCRETE & MASONRY"),m.a.createElement(J.a.Text,null,"Home to Medium sized Commercial projects. Tools for prepping and pouring cement, along with masonry."),m.a.createElement(p.b,{to:"/single-category/61a57a32ec2d3775db3263de"},m.a.createElement(X.a,{variant:"primary bottom",onClick:e},"Check Availability")))),m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement(J.a.Img,{variant:"top",src:ie.a}),m.a.createElement(J.a.Body,null,m.a.createElement(J.a.Title,{class:"category-names"},"PUMPS"),m.a.createElement(J.a.Text,null,"Pumps and accessories for Home and Commercial applications. We offer Gas and Electric options, along with accessories and Test Pumps."),m.a.createElement(p.b,{to:"/single-category/61a57a32ec2d3775db3263df"},m.a.createElement(X.a,{variant:"primary bottom",onClick:e},"Check Availability")))))))},me=a(57),ue=a.n(me),de=(a(60),function(){return m.a.createElement("div",{style:{backgroundImage:"url(".concat(ue.a,")")}},m.a.createElement("div",{className:"container"},m.a.createElement(se,null),m.a.createElement(_,null)))}),pe=a(58),ge=a.n(pe);var Ee=function(){var e=W(),t=Object(v.a)(e,2),a=t[0],n=t[1],r=Object(g.f)().id,c=Object(s.useState)({}),l=Object(v.a)(c,2),o=l[0],i=l[1],u=Object(O.c)(w),d=u.loading,E=u.data,b=a.products,f=a.cart;return Object(s.useEffect)((function(){b.length?i(b.find((function(e){return e._id===r}))):E?(n({type:"UPDATE_PRODUCTS",products:E.products}),E.products.forEach((function(e){Z("products","put",e)}))):d||Z("products","get").then((function(e){n({type:"UPDATE_PRODUCTS",products:e})}))}),[b,E,d,n,r]),m.a.createElement(m.a.Fragment,null,o&&f?m.a.createElement("div",{className:"container my-1"},m.a.createElement(p.b,{to:"/"},"\u2190 Back to Products"),m.a.createElement("h2",null,o.name),m.a.createElement("p",null,o.description),m.a.createElement("p",null,m.a.createElement("strong",null,"Price:"),"$",o.price," ",m.a.createElement("button",{onClick:function(){var e=f.find((function(e){return e._id===r}));e?(n({type:"UPDATE_CART_QUANTITY",_id:r,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),Z("cart","put",Object(N.a)(Object(N.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(n({type:"ADD_TO_CART",product:Object(N.a)(Object(N.a)({},o),{},{purchaseQuantity:1})}),Z("cart","put",Object(N.a)(Object(N.a)({},o),{},{purchaseQuantity:1})))}},"Add to Cart"),m.a.createElement("button",{disabled:!f.find((function(e){return e._id===o._id})),onClick:function(){n({type:"REMOVE_FROM_CART",_id:o._id}),Z("cart","delete",Object(N.a)({},o))}},"Remove from Cart")),m.a.createElement("img",{src:"/images/".concat(o.image),alt:o.name})):null,d?m.a.createElement("img",{src:ge.a,alt:"loading"}):null,m.a.createElement(_,null))};var be=function(e){var t=e.children;return m.a.createElement("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"}},t)},fe=function(){return m.a.createElement("div",null,m.a.createElement(be,null,m.a.createElement("h1",null,"404 Page Not Found"),m.a.createElement("h1",null,m.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))};var Ae=function(e){var t=Object(s.useState)({email:"",password:""}),a=Object(v.a)(t,2),n=a[0],r=a[1],c=Object(O.b)(te),l=Object(v.a)(c,1)[0],o=function(){var e=Object(j.a)(A.a.mark((function e(t){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName}});case 3:a=e.sent,r=a.data.addUser.token,Y.login(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(e){var t=e.target,a=t.name,c=t.value;r(Object(N.a)(Object(N.a)({},n),{},Object(H.a)({},a,c)))};return m.a.createElement("div",{class:"login-card"},m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement("div",{className:"container my-1"},m.a.createElement(p.b,{to:"/login"},"\u2190 Go to Login"),m.a.createElement("h2",null,"Signup"),m.a.createElement("form",{onSubmit:o},m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"firstName"},"First Name:"),m.a.createElement("input",{placeholder:"First",name:"firstName",type:"firstName",id:"firstName",onChange:i})),m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"lastName"},"Last Name:"),m.a.createElement("input",{placeholder:"Last",name:"lastName",type:"lastName",id:"lastName",onChange:i})),m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"email"},"Email:"),m.a.createElement("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:i})),m.a.createElement("div",{className:"flex-row space-between my-2"},m.a.createElement("label",{htmlFor:"pwd"},"Password:"),m.a.createElement("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:i})),m.a.createElement("div",{className:"flex-row flex-end"},m.a.createElement("button",{type:"submit"},"Submit"))))))},he=function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 51.25",x:"0px",y:"0px",style:{maxWidth:"50px"}},m.a.createElement("path",{fill:"#F3A847",d:"M21,26 L21,36 C21.5522847,36 22,36.4477153 22,37 C22,37.5522847 21.5522847,38 21,38 L2,38 L2,39 L23,39 L23,32 C23,30.3431458 24.3431458,29 26,29 C27.6568542,29 29,30.3431458 29,32 L29,39 L50,39 L50,38 L31,38 C30.4477153,38 30,37.5522847 30,37 C30,36.4477153 30.4477153,36 31,36 L31,26 L21,26 Z M19,26 L16,26 L16,36 L19,36 L19,26 Z M14,26 L13,26 C12.4477153,26 12,25.5522847 12,25 C12,24.4477153 12.4477153,24 13,24 L39,24 C39.5522847,24 40,24.4477153 40,25 C40,25.5522847 39.5522847,26 39,26 L38,26 L38,36 L50,36 L50,15 L41,15 C40.4477153,15 40,14.5522847 40,14 L40,12 L37,12 C36.4477153,12 36,11.5522847 36,11 L36,10 L34.6666667,10 C34.3323135,10 34.0200822,9.83289886 33.8346164,9.5547002 L31.4648162,6 L30,6 C29.4477153,6 29,5.55228475 29,5 C29,3.34314575 27.6568542,2 26,2 C24.3431458,2 23,3.34314575 23,5 C23,5.55228475 22.5522847,6 22,6 L20.5351838,6 L18.1653836,9.5547002 C17.9799178,9.83289886 17.6676865,10 17.3333333,10 L16,10 L16,11 C16,11.5522847 15.5522847,12 15,12 L12,12 L12,14 C12,14.5522847 11.5522847,15 11,15 L2,15 L2,36 L14,36 L14,26 Z M36,26 L33,26 L33,36 L36,36 L36,26 Z M32,4 C32.3343532,4 32.6465845,4.16710114 32.8320503,4.4452998 L35.2018504,8 L37,8 C37.5522847,8 38,8.44771525 38,9 L38,10 L41,10 C41.5522847,10 42,10.4477153 42,11 L42,13 L50,13 C51.1045695,13 52,13.8954305 52,15 L52,39 C52,40.1045695 51.1045695,41 50,41 L2,41 C0.8954305,41 0,40.1045695 0,39 L0,15 C0,13.8954305 0.8954305,13 2,13 L10,13 L10,11 C10,10.4477153 10.4477153,10 11,10 L14,10 L14,9 C14,8.44771525 14.4477153,8 15,8 L16.7981496,8 L19.1679497,4.4452998 C19.3534155,4.16710114 19.6656468,4 20,4 L21.1000181,4 C21.5632884,1.71775968 23.5810421,0 26,0 C28.4189579,0 30.4367116,1.71775968 30.8999819,4 L32,4 Z M44.5,18 L46.5,18 C46.7761424,18 47,18.2238576 47,18.5 L47,22.5 C47,22.7761424 46.7761424,23 46.5,23 L44.5,23 C44.2238576,23 44,22.7761424 44,22.5 L44,18.5 C44,18.2238576 44.2238576,18 44.5,18 Z M5.5,18 L7.5,18 C7.77614237,18 8,18.2238576 8,18.5 L8,22.5 C8,22.7761424 7.77614237,23 7.5,23 L5.5,23 C5.22385763,23 5,22.7761424 5,22.5 L5,18.5 C5,18.2238576 5.22385763,18 5.5,18 Z M17.5,15 C18.3284271,15 19,15.6715729 19,16.5 L19,21.5 C19,21.7761424 18.7761424,22 18.5,22 L16.5,22 C16.2238576,22 16,21.7761424 16,21.5 L16,16.5 C16,15.6715729 16.6715729,15 17.5,15 Z M34.5,15 C35.3284271,15 36,15.6715729 36,16.5 L36,21.3813965 C36,21.6575389 35.7761424,21.8813965 35.5,21.8813965 L33.5,21.8813965 C33.2238576,21.8813965 33,21.6575389 33,21.3813965 L33,16.5 C33,15.6715729 33.6715729,15 34.5,15 Z M44.5,28 L46.5,28 C46.7761424,28 47,28.2238576 47,28.5 L47,31.5 C47,31.7761424 46.7761424,32 46.5,32 L44.5,32 C44.2238576,32 44,31.7761424 44,31.5 L44,28.5 C44,28.2238576 44.2238576,28 44.5,28 Z M5.5,28 L7.5,28 C7.77614237,28 8,28.2238576 8,28.5 L8,31.5 C8,31.7761424 7.77614237,32 7.5,32 L5.5,32 C5.22385763,32 5,31.7761424 5,31.5 L5,28.5 C5,28.2238576 5.22385763,28 5.5,28 Z M24.5,15 L27.5,15 C27.7761424,15 28,15.2238576 28,15.5 L28,21.5 C28,21.7761424 27.7761424,22 27.5,22 L24.5,22 C24.2238576,22 24,21.7761424 24,21.5 L24,15.5 C24,15.2238576 24.2238576,15 24.5,15 Z"}))};var je=function(){return m.a.createElement("header",{className:"flex-row px-1"},m.a.createElement(he,null),m.a.createElement("h1",{className:"px-3 home-banner-font"},m.a.createElement(p.b,{to:"/"},"ALAMO TOOLS")),m.a.createElement("nav",{className:"nav-links"},Y.loggedIn()?m.a.createElement("ul",{className:"flex-row"},m.a.createElement("li",{className:"mx-1"},m.a.createElement(p.b,{to:"/orderHistory"},"Order History")),m.a.createElement("li",{className:"mx-1"},m.a.createElement("a",{href:"/",onClick:function(){return Y.logout()}},"Logout"))):m.a.createElement("ul",{className:"flex-row"},m.a.createElement("li",null,m.a.createElement(p.b,{to:"/signup",className:"signup-login"},"Signup")),m.a.createElement("li",{className:"mx-4"},m.a.createElement(p.b,{to:"/login",className:"signup-login"},"Login")))))};var ve=function(){var e=Object(O.b)(ee),t=Object(v.a)(e,1)[0];return Object(s.useEffect)((function(){function e(){return(e=Object(j.a)(A.a.mark((function e(){var a,n,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z("cart","get");case 2:if(a=e.sent,!(n=a.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:n}});case 7:r=e.sent,c=r.data,c.addOrder.products.forEach((function(e){Z("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),m.a.createElement("div",null,m.a.createElement(be,null,m.a.createElement("h1",null,"Success!"),m.a.createElement("h2",null,"Thank you for your purchase!"),m.a.createElement("h2",null,"You will now be redirected to the home page")))};var xe=function(){var e,t=Object(O.c)(T).data;return t&&(e=t.user),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"container my-1"},m.a.createElement(p.b,{to:"/"},"\u2190 Back to Products"),e?m.a.createElement(m.a.Fragment,null,m.a.createElement("h2",null,"Order History for ",e.firstName," ",e.lastName),e.orders.map((function(e){return m.a.createElement("div",{key:e._id,className:"my-2"},m.a.createElement("h3",null,new Date(parseInt(e.purchaseDate)).toLocaleDateString()),m.a.createElement("div",{className:"flex-row"},e.products.map((function(e,t){var a=e._id,n=e.image,r=e.name,c=e.price;return m.a.createElement("div",{key:t,className:"card px-1 py-1"},m.a.createElement(p.b,{to:"/products/".concat(a)},m.a.createElement("img",{alt:r,src:"/images/".concat(n)}),m.a.createElement("p",null,r)),m.a.createElement("div",null,m.a.createElement("span",null,"$",c)))}))))}))):null))};var Oe=function(e){var t=e.image,a=e.name,n=e._id,r=e.price,c=e.quantity,l=e.description,o=W(),i=Object(v.a)(o,2),s=i[0],u=i[1],d=s.cart;return m.a.createElement(J.a,{style:{width:"18rem"}},m.a.createElement(J.a.Img,{variant:"top",src:"/images/".concat(t)}),m.a.createElement(J.a.Body,null,m.a.createElement(J.a.Title,{class:"category-names"},a),m.a.createElement(J.a.Text,null,l," ",m.a.createElement("br",null)," Price: ",r," ",m.a.createElement("br",null)," Quantity: ",c),m.a.createElement(X.a,{variant:"primary",onClick:function(){var t=d.find((function(e){return e._id===n}));u(t?{type:"UPDATE_CART_QUANTITY",_id:n,purchaseQuantity:parseInt(t.purchaseQuantity)+1}:{type:"ADD_TO_CART",product:Object(N.a)(Object(N.a)({},e),{},{purchaseQuantity:1})})}},"Add to Cart")))},Ce=function(){var e=W(),t=Object(v.a)(e,2),a=(t[0],t[1],Object(g.f)());console.log(a.id);var n=Object(O.c)(k),r=n.loading,c=n.error,l=n.data;if(r)return"Loading...";if(c)return"Error! ".concat(c.message);return m.a.createElement("div",null,m.a.createElement("div",{className:"container my-1"},m.a.createElement(p.b,{to:"/"},"\u2190 GO TO HOME")),m.a.createElement("div",{className:"flex-row"},function(){console.log(l);var e=l.tools.filter((function(e){return e.category._id==a.id}));return console.log(e),e}().map((function(e){return m.a.createElement(Oe,{image:e.image,name:e.name,_id:e._id,price:e.price,quantity:e.quantity,description:e.description})}))))},ye=function(){return m.a.createElement("div",{className:"container"},m.a.createElement(Ce,null),m.a.createElement(_,null))},we=new b.a({request:function(e){var t=localStorage.getItem("id_token");e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})},uri:"/graphql"});var Le=function(){return m.a.createElement(E.a,{client:we},m.a.createElement(p.a,null,m.a.createElement("div",null,m.a.createElement(P,null,m.a.createElement(je,null),m.a.createElement(g.c,null,m.a.createElement(g.a,{exact:!0,path:"/",component:de}),m.a.createElement(g.a,{exact:!0,path:"/login",component:ae}),m.a.createElement(g.a,{exact:!0,path:"/signup",component:Ae}),m.a.createElement(g.a,{exact:!0,path:"/success",component:ve}),m.a.createElement(g.a,{exact:!0,path:"/orderHistory",component:xe}),m.a.createElement(g.a,{exact:!0,path:"/products/:id",component:Ee}),m.a.createElement(g.a,{exact:!0,path:"/single-category/:id",component:ye}),m.a.createElement(g.a,{component:fe}))))))},ke=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Te(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}d.a.render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(Le,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ke?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Te(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Te(t,e)}))}}()}},[[61,1,2]]]);
//# sourceMappingURL=main.23fb9cb7.chunk.js.map