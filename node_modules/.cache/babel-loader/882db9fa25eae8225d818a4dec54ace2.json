{"ast":null,"code":"var _jsxFileName = \"/Users/muthusankar/Desktop/alamo-tools-main/client/src/components/ToolsList/index.js\";\n//this is where the lists of tools for a single category goes\nimport React, { useEffect } from 'react';\nimport Tool from '../Tool/index';\nimport { Link, useParams } from \"react-router-dom\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { QUERY_ALL_TOOLS } from '../../utils/queries';\n\nconst ToolsList = () => {\n  // Category Lawn and Garden = 61a57a32ec2d3775db3263dc\n  // Air Tools = 61a57a32ec2d3775db3263dd\n  // Concrete Tools = 61a57a32ec2d3775db3263de\n  const [state, dispatch] = useStoreContext(); // const { currentCategoryId } = state;\n\n  const currentCategoryId = useParams();\n  console.log(currentCategoryId.id);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(QUERY_ALL_TOOLS); // useEffect(() => {\n  //   if (data) {\n  //     dispatch({\n  //       type: UPDATE_PRODUCTS,\n  //       products: data.products\n  //     });\n  //   }\n  // }, [data, loading, dispatch]);\n\n  if (loading) return 'Loading...';\n  if (error) return `Error! ${error.message}`;\n\n  function filterTools() {\n    console.log(data);\n    let filterArr = data.tools.filter(tool => tool.category._id == currentCategoryId.id);\n    console.log(filterArr);\n    return filterArr;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"\\u2190 GO TO HOME\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, filterTools().map(tool => /*#__PURE__*/React.createElement(Tool, {\n    image: tool.image,\n    name: tool.name,\n    _id: tool._id,\n    price: tool.price,\n    quantity: tool.quantity,\n    description: tool.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default ToolsList;","map":{"version":3,"sources":["/Users/muthusankar/Desktop/alamo-tools-main/client/src/components/ToolsList/index.js"],"names":["React","useEffect","Tool","Link","useParams","useQuery","useStoreContext","QUERY_ALL_TOOLS","ToolsList","state","dispatch","currentCategoryId","console","log","id","loading","error","data","message","filterTools","filterArr","tools","filter","tool","category","_id","map","image","name","price","quantity","description"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,eAAjB;AACA,SAASC,IAAT,EAAeC,SAAf,QAAgC,kBAAhC;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,eAAT,QAAgC,qBAAhC;;AAGA,MAAMC,SAAS,GAAG,MAAM;AACtB;AACA;AACA;AAGA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,eAAe,EAAzC,CANsB,CAQtB;;AAEA,QAAMK,iBAAiB,GAAGP,SAAS,EAAnC;AACAQ,EAAAA,OAAO,CAACC,GAAR,CAAYF,iBAAiB,CAACG,EAA9B;AAEA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,MAA2BZ,QAAQ,CAACE,eAAD,CAAzC,CAbsB,CAgBtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIQ,OAAJ,EAAa,OAAO,YAAP;AACb,MAAIC,KAAJ,EAAW,OAAQ,UAASA,KAAK,CAACE,OAAQ,EAA/B;;AAIX,WAASC,WAAT,GAAuB;AACrBP,IAAAA,OAAO,CAACC,GAAR,CAAYI,IAAZ;AACA,QAAIG,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAWC,MAAX,CAAkBC,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcC,GAAd,IAAqBd,iBAAiB,CAACG,EAAjE,CAAhB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYO,SAAZ;AACA,WAAOA,SAAP;AACD;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,eAME;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,WAAW,GAAGO,GAAd,CAAkBH,IAAI,iBACrB,oBAAC,IAAD;AACE,IAAA,KAAK,EAAGA,IAAI,CAACI,KADf;AAEE,IAAA,IAAI,EAAGJ,IAAI,CAACK,IAFd;AAGC,IAAA,GAAG,EAAGL,IAAI,CAACE,GAHZ;AAIE,IAAA,KAAK,EAAEF,IAAI,CAACM,KAJd;AAKE,IAAA,QAAQ,EAAEN,IAAI,CAACO,QALjB;AAME,IAAA,WAAW,EAAEP,IAAI,CAACQ,WANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CANF,CADF;AAuBD,CA5DD;;AA8DA,eAAevB,SAAf","sourcesContent":["//this is where the lists of tools for a single category goes\nimport React, { useEffect } from 'react';\nimport Tool from '../Tool/index';\nimport { Link, useParams } from \"react-router-dom\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { QUERY_ALL_TOOLS } from '../../utils/queries';\n\n\nconst ToolsList = () => {\n  // Category Lawn and Garden = 61a57a32ec2d3775db3263dc\n  // Air Tools = 61a57a32ec2d3775db3263dd\n  // Concrete Tools = 61a57a32ec2d3775db3263de\n\n\n  const [state, dispatch] = useStoreContext();\n\n  // const { currentCategoryId } = state;\n\n  const currentCategoryId = useParams();\n  console.log(currentCategoryId.id)\n\n  const { loading, error, data } = useQuery(QUERY_ALL_TOOLS);\n\n\n  // useEffect(() => {\n  //   if (data) {\n  //     dispatch({\n  //       type: UPDATE_PRODUCTS,\n  //       products: data.products\n  //     });\n  //   }\n  // }, [data, loading, dispatch]);\n\n  if (loading) return 'Loading...';\n  if (error) return `Error! ${error.message}`;\n\n\n\n  function filterTools() {\n    console.log(data)\n    let filterArr = data.tools.filter(tool => tool.category._id == currentCategoryId.id);\n    console.log(filterArr)\n    return filterArr\n  }\n\n  return (\n    <div>\n      <div className=\"container my-1\">\n        <Link to=\"/\">\n          ‚Üê GO TO HOME\n        </Link>\n      </div>\n      <div className=\"flex-row\">\n        {filterTools().map(tool => (\n          <Tool\n            image= {tool.image}\n            name= {tool.name}\n           _id= {tool._id}\n            price={tool.price}\n            quantity={tool.quantity}\n            description={tool.description}\n          />\n\n      ))}\n\n      </div>\n    </div>\n  )\n}\n\nexport default ToolsList;"]},"metadata":{},"sourceType":"module"}