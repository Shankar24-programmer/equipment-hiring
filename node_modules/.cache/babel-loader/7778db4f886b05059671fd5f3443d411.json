{"ast":null,"code":"import _slicedToArray from\"/Users/muthusankar/Desktop/alamo-tools-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";//this is where the lists of tools for a single category goes\nimport React,{useEffect}from'react';import Tool from'../Tool/index';import{Link,useParams}from\"react-router-dom\";import{useQuery}from'@apollo/react-hooks';import{useStoreContext}from'../../utils/GlobalState';import{QUERY_ALL_TOOLS}from'../../utils/queries';var ToolsList=function ToolsList(){// Category Lawn and Garden = 61a57a32ec2d3775db3263dc\n// Air Tools = 61a57a32ec2d3775db3263dd\n// Concrete Tools = 61a57a32ec2d3775db3263de\nvar _useStoreContext=useStoreContext(),_useStoreContext2=_slicedToArray(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];// const { currentCategoryId } = state;\nvar currentCategoryId=useParams();console.log(currentCategoryId.id);var _useQuery=useQuery(QUERY_ALL_TOOLS),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;// useEffect(() => {\n//   if (data) {\n//     dispatch({\n//       type: UPDATE_PRODUCTS,\n//       products: data.products\n//     });\n//   }\n// }, [data, loading, dispatch]);\nif(loading)return'Loading...';if(error)return\"Error! \".concat(error.message);function filterTools(){console.log(data);var filterArr=data.tools.filter(function(tool){return tool.category._id==currentCategoryId.id;});console.log(filterArr);return filterArr;}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"container my-1\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"\\u2190 GO TO HOME\")),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-row\"},filterTools().map(function(tool){return/*#__PURE__*/React.createElement(Tool,{image:tool.image,name:tool.name,_id:tool._id,price:tool.price,quantity:tool.quantity,description:tool.description});})));};export default ToolsList;","map":{"version":3,"sources":["/Users/muthusankar/Desktop/alamo-tools-main/client/src/components/ToolsList/index.js"],"names":["React","useEffect","Tool","Link","useParams","useQuery","useStoreContext","QUERY_ALL_TOOLS","ToolsList","state","dispatch","currentCategoryId","console","log","id","loading","error","data","message","filterTools","filterArr","tools","filter","tool","category","_id","map","image","name","price","quantity","description"],"mappings":"yKAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,OAASC,QAAT,KAAyB,qBAAzB,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,OAASC,eAAT,KAAgC,qBAAhC,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB;AACA;AACA;AAGA,qBAA0BF,eAAe,EAAzC,sDAAOG,KAAP,sBAAcC,QAAd,sBAEA;AAEA,GAAMC,CAAAA,iBAAiB,CAAGP,SAAS,EAAnC,CACAQ,OAAO,CAACC,GAAR,CAAYF,iBAAiB,CAACG,EAA9B,EAEA,cAAiCT,QAAQ,CAACE,eAAD,CAAzC,CAAQQ,OAAR,WAAQA,OAAR,CAAiBC,KAAjB,WAAiBA,KAAjB,CAAwBC,IAAxB,WAAwBA,IAAxB,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIF,OAAJ,CAAa,MAAO,YAAP,CACb,GAAIC,KAAJ,CAAW,uBAAiBA,KAAK,CAACE,OAAvB,EAIX,QAASC,CAAAA,WAAT,EAAuB,CACrBP,OAAO,CAACC,GAAR,CAAYI,IAAZ,EACA,GAAIG,CAAAA,SAAS,CAAGH,IAAI,CAACI,KAAL,CAAWC,MAAX,CAAkB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,QAAL,CAAcC,GAAd,EAAqBd,iBAAiB,CAACG,EAA3C,EAAtB,CAAhB,CACAF,OAAO,CAACC,GAAR,CAAYO,SAAZ,EACA,MAAOA,CAAAA,SAAP,CACD,CAED,mBACE,4CACE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,sBADF,CADF,cAME,2BAAK,SAAS,CAAC,UAAf,EACGD,WAAW,GAAGO,GAAd,CAAkB,SAAAH,IAAI,qBACrB,oBAAC,IAAD,EACE,KAAK,CAAGA,IAAI,CAACI,KADf,CAEE,IAAI,CAAGJ,IAAI,CAACK,IAFd,CAGC,GAAG,CAAGL,IAAI,CAACE,GAHZ,CAIE,KAAK,CAAEF,IAAI,CAACM,KAJd,CAKE,QAAQ,CAAEN,IAAI,CAACO,QALjB,CAME,WAAW,CAAEP,IAAI,CAACQ,WANpB,EADqB,EAAtB,CADH,CANF,CADF,CAuBD,CA5DD,CA8DA,cAAevB,CAAAA,SAAf","sourcesContent":["//this is where the lists of tools for a single category goes\nimport React, { useEffect } from 'react';\nimport Tool from '../Tool/index';\nimport { Link, useParams } from \"react-router-dom\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { useStoreContext } from '../../utils/GlobalState';\nimport { QUERY_ALL_TOOLS } from '../../utils/queries';\n\n\nconst ToolsList = () => {\n  // Category Lawn and Garden = 61a57a32ec2d3775db3263dc\n  // Air Tools = 61a57a32ec2d3775db3263dd\n  // Concrete Tools = 61a57a32ec2d3775db3263de\n\n\n  const [state, dispatch] = useStoreContext();\n\n  // const { currentCategoryId } = state;\n\n  const currentCategoryId = useParams();\n  console.log(currentCategoryId.id)\n\n  const { loading, error, data } = useQuery(QUERY_ALL_TOOLS);\n\n\n  // useEffect(() => {\n  //   if (data) {\n  //     dispatch({\n  //       type: UPDATE_PRODUCTS,\n  //       products: data.products\n  //     });\n  //   }\n  // }, [data, loading, dispatch]);\n\n  if (loading) return 'Loading...';\n  if (error) return `Error! ${error.message}`;\n\n\n\n  function filterTools() {\n    console.log(data)\n    let filterArr = data.tools.filter(tool => tool.category._id == currentCategoryId.id);\n    console.log(filterArr)\n    return filterArr\n  }\n\n  return (\n    <div>\n      <div className=\"container my-1\">\n        <Link to=\"/\">\n          ‚Üê GO TO HOME\n        </Link>\n      </div>\n      <div className=\"flex-row\">\n        {filterTools().map(tool => (\n          <Tool\n            image= {tool.image}\n            name= {tool.name}\n           _id= {tool._id}\n            price={tool.price}\n            quantity={tool.quantity}\n            description={tool.description}\n          />\n\n      ))}\n\n      </div>\n    </div>\n  )\n}\n\nexport default ToolsList;"]},"metadata":{},"sourceType":"module"}